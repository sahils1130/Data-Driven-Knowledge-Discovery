"0","val.errors = rep(NA, p)"
"0","for (i in 1:p) {"
"0","    coefi = coef(regfit.full, id = i)"
"0","    pred = as.matrix(x.test[, x_cols %in% names(coefi)]) %*% coefi[names(coefi) %in% "
"0","        x_cols]"
"0","    val.errors[i] = mean((y.test - pred)^2)"
"0","}"
"0","plot(val.errors, ylab = ""Test MSE"", pch = 19, type = ""b"", col = ""red"")"
